{
    "docs": [
        {
            "location": "/", 
            "text": "Overview\n\n\nREST API\n\n\nWe build our applications using this API and we invite you to use it too. Check out our Endpoint Reference.\n\n\nPush API\n\n\nsipgate.io passes call meta data to your web server in real-time. Check out the official documentation.\n\n\nXML-RPC API\n\n\nBack in 2005 we released our first API. We called it SAMURAI. Check out the XML-RPC API specification.", 
            "title": "Overview"
        }, 
        {
            "location": "/#overview", 
            "text": "", 
            "title": "Overview"
        }, 
        {
            "location": "/#rest-api", 
            "text": "We build our applications using this API and we invite you to use it too. Check out our Endpoint Reference.", 
            "title": "REST API"
        }, 
        {
            "location": "/#push-api", 
            "text": "sipgate.io passes call meta data to your web server in real-time. Check out the official documentation.", 
            "title": "Push API"
        }, 
        {
            "location": "/#xml-rpc-api", 
            "text": "Back in 2005 we released our first API. We called it SAMURAI. Check out the XML-RPC API specification.", 
            "title": "XML-RPC API"
        }, 
        {
            "location": "/Push-API/", 
            "text": "Push API\n\n\nSet up webhooks in your sipgate account\n\n\nCreate a sipgate account\n\n\nTo begin developing applications using webhooks you first need to create a sigpgate account. There are different types of accounts: basic, simquadrat and team. All are slightly different but offer webhooks functionality. For the following examples we choose \nsipgate basic\n because it's free (as in beer).\n\n\nBook sipgate.io\n\n\nWe will now show you how to book sipgate.io using the Feature Store.\n\n\n\n\nLog into your shiny, new sipgate account and go to the Feature Store. You can find a link in the navigation.\n\n\n\n\nWithin the Feature Store click on the sipgate.io feature. It should look like this.\n\n\n\n\nClick on the orange button to book the free feature and follow the confirmation process.\n\n\nEnable webhooks\n\n\nWe will now show you how to configure your URLs.\n\n\n\n\nNavigate to the sipgate.io category and click on \"Incoming calls\" or \"Outgoing calls\"\n\n\n\n\nEnter your URL and hit \"Save\".\n\n\nAPI Reference \n Examples\n\n\nhttps://github.com/sipgate/sipgate.io\n\n\nTroubleshooting\n\n\nEnable debug log\n\n\nYou can enable logging for debugging purposes from your dashboard. You will find each request and the corresponding response in the logging table.\n\n\n\n\nClick on \"Activate debug log\", read and confirm the security warning.\n\n\n\n\nTo view the logged requests, click on the icon within the \"Activate debug log\" row.\n\n\n\n\nYour request should be logged and look like this.\n\n\nInspect incoming network traffic\n\n\nYou can use \nngrep\n to inspect incoming requests \n\n\nsudo ngrep -dany -Wbyline port 3000\n\n\n\n\nThe output should look like this\n\n\n###\nT 10.42.42.42:42528 -\n 10.42.42.23:3000 [AP]\nPOST / HTTP/1.1.\nAccept: application/xml, text/plain, text/html.\nAccept-Charset: utf-8.\nUser-Agent: sipgate.io.\nX-SIPGATE-JOBS: http://www.sipgate.de/jobs.\nContent-Length: 84.\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8.\nAccept-Encoding: gzip,deflate.\nHost: gwen.fuglu.net:3000.\nVia: 1.1 localhost (squid/3.1.20).\nX-Forwarded-For: 217.10.77.113.\nCache-Control: max-age=259200.\nConnection: keep-alive.\n.\n\n##\nT 10.42.42.42:42528 -\n 10.42.42.23:3000 [AP]\nevent=newCall\ndirection=in\nfrom=anonymous\nto=445603000514\ncallId=4932215337270853042\n##\nT 10.42.42.23:3000 -\n 10.42.42.42:42528 [AP]\nHTTP/1.1 200 OK.\nX-Powered-By: Express.\nContent-Type: application/xml; charset=utf-8.\nContent-Length: 46.\nDate: Tue, 23 May 2017 11:27:11 GMT.\nConnection: keep-alive.\n.\n\nResponse\nDial\nVoicemail/\n/Dial\n/Response\n\n#", 
            "title": "Push API"
        }, 
        {
            "location": "/Push-API/#push-api", 
            "text": "", 
            "title": "Push API"
        }, 
        {
            "location": "/Push-API/#set-up-webhooks-in-your-sipgate-account", 
            "text": "", 
            "title": "Set up webhooks in your sipgate account"
        }, 
        {
            "location": "/Push-API/#create-a-sipgate-account", 
            "text": "To begin developing applications using webhooks you first need to create a sigpgate account. There are different types of accounts: basic, simquadrat and team. All are slightly different but offer webhooks functionality. For the following examples we choose  sipgate basic  because it's free (as in beer).", 
            "title": "Create a sipgate account"
        }, 
        {
            "location": "/Push-API/#book-sipgateio", 
            "text": "We will now show you how to book sipgate.io using the Feature Store.   Log into your shiny, new sipgate account and go to the Feature Store. You can find a link in the navigation.   Within the Feature Store click on the sipgate.io feature. It should look like this.   Click on the orange button to book the free feature and follow the confirmation process.", 
            "title": "Book sipgate.io"
        }, 
        {
            "location": "/Push-API/#enable-webhooks", 
            "text": "We will now show you how to configure your URLs.   Navigate to the sipgate.io category and click on \"Incoming calls\" or \"Outgoing calls\"   Enter your URL and hit \"Save\".", 
            "title": "Enable webhooks"
        }, 
        {
            "location": "/Push-API/#api-reference-examples", 
            "text": "https://github.com/sipgate/sipgate.io", 
            "title": "API Reference &amp; Examples"
        }, 
        {
            "location": "/Push-API/#troubleshooting", 
            "text": "", 
            "title": "Troubleshooting"
        }, 
        {
            "location": "/Push-API/#enable-debug-log", 
            "text": "You can enable logging for debugging purposes from your dashboard. You will find each request and the corresponding response in the logging table.   Click on \"Activate debug log\", read and confirm the security warning.   To view the logged requests, click on the icon within the \"Activate debug log\" row.   Your request should be logged and look like this.", 
            "title": "Enable debug log"
        }, 
        {
            "location": "/Push-API/#inspect-incoming-network-traffic", 
            "text": "You can use  ngrep  to inspect incoming requests   sudo ngrep -dany -Wbyline port 3000  The output should look like this  ###\nT 10.42.42.42:42528 -  10.42.42.23:3000 [AP]\nPOST / HTTP/1.1.\nAccept: application/xml, text/plain, text/html.\nAccept-Charset: utf-8.\nUser-Agent: sipgate.io.\nX-SIPGATE-JOBS: http://www.sipgate.de/jobs.\nContent-Length: 84.\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8.\nAccept-Encoding: gzip,deflate.\nHost: gwen.fuglu.net:3000.\nVia: 1.1 localhost (squid/3.1.20).\nX-Forwarded-For: 217.10.77.113.\nCache-Control: max-age=259200.\nConnection: keep-alive.\n.\n\n##\nT 10.42.42.42:42528 -  10.42.42.23:3000 [AP]\nevent=newCall direction=in from=anonymous to=445603000514 callId=4932215337270853042\n##\nT 10.42.42.23:3000 -  10.42.42.42:42528 [AP]\nHTTP/1.1 200 OK.\nX-Powered-By: Express.\nContent-Type: application/xml; charset=utf-8.\nContent-Length: 46.\nDate: Tue, 23 May 2017 11:27:11 GMT.\nConnection: keep-alive.\n. Response Dial Voicemail/ /Dial /Response \n#", 
            "title": "Inspect incoming network traffic"
        }, 
        {
            "location": "/REST-API/", 
            "text": "REST API\n\n\nAuthentication\n\n\nSimple authentication for scripts using Basic Auth\n\n\nIf you simply want to access your own data through the API you do not have to use oAuth authorization delegation. Simply use \nBasic Auth\n to access our API.\n\n\nAttention:\n Never use Basic Auth, if you want to access the data of someone else in your app.\n\n\nTo get basic information about your account you can query the \n/account\n route:\n\n\ncurl \\\n--request GET \\\n--header \nAccept: application/json\n \\\n--user \nyour_sipgate_username\n:\nyour_sipgate_password\n \\\nhttps://api.sipgate.com/v2/account\n\n\n\n\nOr you could send an SMS:\n\n\ncurl \\\n--request POST \\\n--header \nContent-Type: application/json' \\\n--header \nAccept: application/json\n \\\n--user \nyour_sipgate_username\n:\nyour_sipgate_password\n \\\n--data '{\nsmsId\n: \nyour_sms_id\n, \nrecipient\n: \nphone_number\n, \nmessage\n: \nI :love: sipgate!\n}' \\\nhttps://api.sipgate.com/v2/sessions/sms\n\n\n\n\nAuthenticating users in third party applications\n\n\nWhen building a third-party application users will have to authorize via the OAuth authorization code flow. \nRefer to our guide about \nmanaging third-party clients\n to learn how to obtain a \nclientId\n and \nclientSecret\n. After that your application will be able to query the sipgate REST API.  \n\n\nDuring the authorization process the user will be asked to grant permission to your client to access the REST API. The user will have the option to allow the access or cancel the authorization process.\n\n\n\n\nYou can find an example of how to implement this authorization flow in our \nrest api example\n.\n\n\nAPI Reference\n\n\nYou can find our API Reference here:\n\n\nhttps://api.sipgate.com/v2/doc\n\n\nYou can find examples here:\n\n\nhttps://github.com/sipgate/rest-api-examples\n\n\nOAuth2 scopes\n\n\nScopes are used to grant an application different levels of access to data on behalf of the end user. As an example, the scope for sending SMS (\n/sessions/sms\n) is \nsessions:sms:write\n.\n\n\n\n\nA word about security\n\n\nIt is generally a good idea to only use a minimal set of scopes to maximize security.\n\n\n\n\n\n\n\n\n\n\nScope name\n\n\nDescription\n\n\n\n\n\n\n\n\n\n\nall\n\n\nFull access\n\n\n\n\n\n\ncontacts:read\n\n\nRead contact information\n\n\n\n\n\n\ndevices:localprefix:read\n\n\nRead your device settings for localprefix\n\n\n\n\n\n\ndevices:sim:read\n\n\nRead your sim device settings\n\n\n\n\n\n\ndevices:tariffannouncement:write\n\n\nModify your device settings for tariff announcement\n\n\n\n\n\n\nphonelines:blockanonymous:read\n\n\nRead your block anonymous settings\n\n\n\n\n\n\nphonelines:blockanonymous:write\n\n\nChange your block anonymous settings\n\n\n\n\n\n\nphonelines:devices:write\n\n\nModify your phone line devices\n\n\n\n\n\n\nphonelines:forwardings:read\n\n\nRead your phone line forwardings\n\n\n\n\n\n\nphonelines:read\n\n\nRead your phone line settings\n\n\n\n\n\n\nphonelines:sipgateio:read\n\n\nRead your phone line sipgate.io settings\n\n\n\n\n\n\nphonelines:sipgateio:write\n\n\nModify your phone line sipgate.io settings\n\n\n\n\n\n\nphonelines:voicemails:greetings:write\n\n\nModify your phone line voicemail greetings\n\n\n\n\n\n\nphonelines:voicemails:read\n\n\nRead your phone line voicemails\n\n\n\n\n\n\nphonelines:write\n\n\nModify our phone line settings\n\n\n\n\n\n\nportings:read\n\n\nRead your portings\n\n\n\n\n\n\npush_device:register\n\n\nRegister device for push notifications\n\n\n\n\n\n\nsessions:sms:write\n\n\nSend SMS\n\n\n\n\n\n\nsettings:sipgateio:write\n\n\nModify your sipgate.io settings\n\n\n\n\n\n\nsms:callerid:write\n\n\nModify your short message services\n\n\n\n\n\n\nsms:write\n\n\nModify your short message services\n\n\n\n\n\n\nusers:read\n\n\nRead user information\n\n\n\n\n\n\naccount:read\n\n\nRead account information\n\n\n\n\n\n\naccount:write\n\n\nModify your account\n\n\n\n\n\n\naddresses:read\n\n\nRead address information\n\n\n\n\n\n\naddresses:write\n\n\nModify your addresses\n\n\n\n\n\n\nauthorization:oauth:clients:read\n\n\nRead your oauth clients\n\n\n\n\n\n\nauthorization:oauth:clients:write\n\n\nModify your oauth clients\n\n\n\n\n\n\nbalance:read\n\n\nRead balance information\n\n\n\n\n\n\ncontacts:write\n\n\nWrite contact information\n\n\n\n\n\n\ndevices:callerid:read\n\n\nRead your device settings for callerId\n\n\n\n\n\n\ndevices:callerid:write\n\n\nModify your device settings for callerId\n\n\n\n\n\n\ndevices:localprefix:write\n\n\nModify your device settings for localprefix\n\n\n\n\n\n\ndevices:read\n\n\nRead your devices\n\n\n\n\n\n\ndevices:sim:write\n\n\nModify your sim device settings\n\n\n\n\n\n\ndevices:sims:orders:write\n\n\nOrder new SIM cards\n\n\n\n\n\n\ndevices:singlerowdisplay:read\n\n\nRead your device settings for single row display\n\n\n\n\n\n\ndevices:singlerowdisplay:write\n\n\nModify your device settings for single row display\n\n\n\n\n\n\ndevices:tariffannouncement:read\n\n\nRead your device settings for tariff announcement\n\n\n\n\n\n\ndevices:write\n\n\nModify your devices\n\n\n\n\n\n\nfaxlines:numbers:read\n\n\nRead your fax line numbers\n\n\n\n\n\n\nfaxlines:read\n\n\nRead your fax line settings\n\n\n\n\n\n\nfaxlines:write\n\n\nModify your fax line settings\n\n\n\n\n\n\ngroups:devices:write\n\n\nModify your group devices\n\n\n\n\n\n\ngroups:faxlines:read\n\n\nRead your group faxlines\n\n\n\n\n\n\ngroups:numbers:read\n\n\nRead numbers routed to your groups\n\n\n\n\n\n\ngroups:read\n\n\nRead your groups\n\n\n\n\n\n\ngroups:users:read\n\n\nRead your group members\n\n\n\n\n\n\ngroups:voicemails:read\n\n\nRead your group voicemails\n\n\n\n\n\n\nhistory:read\n\n\nRead your history\n\n\n\n\n\n\nhistory:write\n\n\nModify your history\n\n\n\n\n\n\nnotifications:read\n\n\nRead notifications\n\n\n\n\n\n\nnotifications:write\n\n\nModify notifications\n\n\n\n\n\n\nnumbers:read\n\n\nRead your numbers\n\n\n\n\n\n\nnumbers:write\n\n\nRoute numbers to phone lines\n\n\n\n\n\n\nopenid\n\n\nIdentify you uniquely through your sipgate login\n\n\n\n\n\n\nphonelines:busyonbusy:read\n\n\nRead your busy on busy settings\n\n\n\n\n\n\nphonelines:busyonbusy:write\n\n\nChange your busy on busy settings\n\n\n\n\n\n\nphonelines:devices:read\n\n\nRead your phone line devices\n\n\n\n\n\n\nphonelines:forwardings:write\n\n\nModify your phone line forwardings\n\n\n\n\n\n\nphonelines:numbers:read\n\n\nRead your phone line numbers\n\n\n\n\n\n\nphonelines:parallelforwardings:read\n\n\nRead your parallel forwardings\n\n\n\n\n\n\nphonelines:parallelforwardings:write\n\n\nModify your parallel forwardings\n\n\n\n\n\n\nphonelines:sipgateio:log:read\n\n\nRead your phone line sipgate.io log\n\n\n\n\n\n\nphonelines:voicemails:greetings:read\n\n\nRead your phone line voicemail greetings\n\n\n\n\n\n\nphonelines:voicemails:write\n\n\nModify your phone line voicemails\n\n\n\n\n\n\nportings:write\n\n\nModify your portings\n\n\n\n\n\n\nsessions:calls:write\n\n\nInitiate phone calls\n\n\n\n\n\n\nsessions:fax:write\n\n\nSend Fax\n\n\n\n\n\n\nsessions:write\n\n\nInitiate sessions\n\n\n\n\n\n\nsettings:read\n\n\nRead your settings\n\n\n\n\n\n\nsettings:sipgateio:read\n\n\nRead your sipgate.io settings\n\n\n\n\n\n\nsettings:write\n\n\nModify your settings\n\n\n\n\n\n\nsms:callerid:read\n\n\nRead your short message services\n\n\n\n\n\n\nsms:read\n\n\nRead your short message services\n\n\n\n\n\n\nusers:defaultdevice:write\n\n\nModify your default device settings\n\n\n\n\n\n\n\n\nReal Time Call Manipulation\n\n\nWhat is Real Time Call Manipulation?\n\n\nThe Real Time Call Manipulation API enables you to modify currently running calls. Every call has a \ncallId\n and you can use this ID to modify the state of that call.\n\n\nWhat is the callId?\n\n\nThe \ncallId\n will either be pushed to you by using a \nWebhook\n  (see \ncallId\n) or you can obtain it by initiating a call using the \n/sessions/calls\n endpoint (see \nsessionId\n).\n\n\nAuthentication\n\n\nYou only have to add the \nAuthorization: Bearer \naccess_token\n header to your requests.\nThere are currently two ways to obtain an \naccess_token\n:\n\n\nUsing sipgate authentication\n\n\nYou can obtain an \naccess_token\n by using curl:\n\n\n curl \\\n--request POST \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--header 'Accept: application/json' \\\n--data-urlencode \nclient_id=sipgate-app-web\n \\\n--data-urlencode \ngrant_type=password\n \\\n--data-urlencode \nusername=\nyour_sipgate_email\n \\\n--data-urlencode \npassword=\nyour_sipgate_username\n \\\nhttps://api.sipgate.com/login/sipgate-apps/protocol/openid-connect/token\n\n\n\n\nThe response will contain a \ntoken\n which can be used as \naccess_token\n:\n\n\n{\ntoken\n:\neyJ0eXAiOiJKV1....\n}\n\n\n\n\nUsing OAuth 2.0 authentication\n\n\nRead the chapter on \nOAuth 2.0 Authentication\n to obtain an \naccess_token\n.\n\n\nHow to get all running calls\n\n\nYou only need your \naccess_token\n to call the \n/calls\n endpoint.\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request GET \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to put a call on hold\n====================\n\n\nYou can put all call participants on hold or retrieve them by using the \n/calls/{callId}/hold\n endpoint. All you need is the \ncallId\n and your \naccess_token\n:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Hold                                           \\ncurl \\\\n--verbose \\                                   \\n--request PUT \\ \\n--header \\\"Authorization: Bearer \n\\\" \\       \\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/hold \\\\n--data '{ \\\"value\\\": true }'                                                                                                                                                                                                                                   \\n# Retrieve\\ncurl \\                                              \\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/hold \\\\n--data '{ \\\"value\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to mute/unmute a call\n=====================\n\n\nYou can use the \n/calls/{callId}/muted\n endpoint to mute or unmute your microphone. All you need is the \ncallId\n and your \naccess_token\n:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Mute\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/muted \\\\n--data '{ \\\"value\\\": true }'\\n\\n# Unmute\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/muted \\\\n--data '{ \\\"value\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to transfer a call\n=================\n\n\nYou can use the \n/calls/{callId}/transfer\n endpoint to transfer your call to another party. You can choose between attended transfer and blind transfer. All you need is the \ncallId\n and your \naccess_token\n:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Attended transfer\\ncurl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/transfer \\\\n--data '{ \\\"attended\\\": true, \\\"phoneNumber\\\": \\\"+4915799912345\\\" }'\\n\\n# Blind transfer\\ncurl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/transfer \\\\n--data '{ \\\"attended\\\": false, \\\"phoneNumber\\\": \\\"+4915799912345\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to record a call\n=================\n\n\nUse the \n/calls/{callId}/recording\n endpoint to record a running call. \nPass \n\"value\": true\n to start the recording and \n\"value\": false\n to stop it.\nYou can enable/disable the recording announcement by passing the \nannouncement\n flag.\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Start recording with announcement\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header 'Authorization: Bearer \n' \\\\n--header 'Content-Type: application/json' \\\\n--url https://api.sipgate.com/v2/calls/\n/recording \\\\n--data '{ \\\"value\\\": true, \\\"announcement\\\": true }'\\n\\n# Stop recording without announcement\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header 'Authorization: Bearer \n' \\\\n--header 'Content-Type: application/json' \\\\n--url https://api.sipgate.com/v2/calls/\n/recording \\\\n--data '{ \\\"value\\\": false, \\\"announcement\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nTo retrieve the recorded file you can use the \n/v2/{userId}/history\n endpoint (see \nrecordingUrl\n). \n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/\n/history?types=CALL\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to send DTMF (Dual-tone multi-frequency) sequences\n=================\n\n\nUse the \n/calls/{callId}/dtmf\n endpoint to send a DTMF sequence to a running call:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/dtmf \\\\n--data '{ \\\"sequence\\\": \\\"*12345#\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to play an audio file\n===================\n\n\nYou can inject any WAV file into a running call by using the \n/calls/{callId}/announcements\n endpoint. All you need is the \ncallId\n, a WAV file and your \naccess_token\n:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n/announcements \\\\n--data '{ \\\"url\\\": \\\"https://static.sipgate.com/examples/wav/example.wav\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\n\nPlease note:\n Currently the sound file needs to be a mono 16bit PCM WAV file with a sampling rate of 8kHz. You can use conversion tools like the open source audio editor \nAudacity\n to convert any sound file to the correct format.\n\n\nAlternatively you could convert the file using \nmpg123\n on the command line:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"mpg123 --rate 8000 --mono -w output.wav input.mp3\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to hang up a call\n=================\n\n\nUse the \nDELETE /calls/{callId}\n endpoint to terminate a running call. All you need is the \ncallId\n and your \naccess_token\n:\n\n\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request DELETE \\\\n--header \\\"Authorization: Bearer \n\\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/\n\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]", 
            "title": "REST API"
        }, 
        {
            "location": "/REST-API/#rest-api", 
            "text": "", 
            "title": "REST API"
        }, 
        {
            "location": "/REST-API/#authentication", 
            "text": "", 
            "title": "Authentication"
        }, 
        {
            "location": "/REST-API/#simple-authentication-for-scripts-using-basic-auth", 
            "text": "If you simply want to access your own data through the API you do not have to use oAuth authorization delegation. Simply use  Basic Auth  to access our API.  Attention:  Never use Basic Auth, if you want to access the data of someone else in your app.  To get basic information about your account you can query the  /account  route:  curl \\\n--request GET \\\n--header  Accept: application/json  \\\n--user  your_sipgate_username : your_sipgate_password  \\\nhttps://api.sipgate.com/v2/account  Or you could send an SMS:  curl \\\n--request POST \\\n--header  Content-Type: application/json' \\\n--header  Accept: application/json  \\\n--user  your_sipgate_username : your_sipgate_password  \\\n--data '{ smsId :  your_sms_id ,  recipient :  phone_number ,  message :  I :love: sipgate! }' \\\nhttps://api.sipgate.com/v2/sessions/sms", 
            "title": "Simple authentication for scripts using Basic Auth"
        }, 
        {
            "location": "/REST-API/#authenticating-users-in-third-party-applications", 
            "text": "When building a third-party application users will have to authorize via the OAuth authorization code flow. \nRefer to our guide about  managing third-party clients  to learn how to obtain a  clientId  and  clientSecret . After that your application will be able to query the sipgate REST API.    During the authorization process the user will be asked to grant permission to your client to access the REST API. The user will have the option to allow the access or cancel the authorization process.   You can find an example of how to implement this authorization flow in our  rest api example .", 
            "title": "Authenticating users in third party applications"
        }, 
        {
            "location": "/REST-API/#api-reference", 
            "text": "You can find our API Reference here:  https://api.sipgate.com/v2/doc  You can find examples here:  https://github.com/sipgate/rest-api-examples", 
            "title": "API Reference"
        }, 
        {
            "location": "/REST-API/#oauth2-scopes", 
            "text": "Scopes are used to grant an application different levels of access to data on behalf of the end user. As an example, the scope for sending SMS ( /sessions/sms ) is  sessions:sms:write .   A word about security  It is generally a good idea to only use a minimal set of scopes to maximize security.      Scope name  Description      all  Full access    contacts:read  Read contact information    devices:localprefix:read  Read your device settings for localprefix    devices:sim:read  Read your sim device settings    devices:tariffannouncement:write  Modify your device settings for tariff announcement    phonelines:blockanonymous:read  Read your block anonymous settings    phonelines:blockanonymous:write  Change your block anonymous settings    phonelines:devices:write  Modify your phone line devices    phonelines:forwardings:read  Read your phone line forwardings    phonelines:read  Read your phone line settings    phonelines:sipgateio:read  Read your phone line sipgate.io settings    phonelines:sipgateio:write  Modify your phone line sipgate.io settings    phonelines:voicemails:greetings:write  Modify your phone line voicemail greetings    phonelines:voicemails:read  Read your phone line voicemails    phonelines:write  Modify our phone line settings    portings:read  Read your portings    push_device:register  Register device for push notifications    sessions:sms:write  Send SMS    settings:sipgateio:write  Modify your sipgate.io settings    sms:callerid:write  Modify your short message services    sms:write  Modify your short message services    users:read  Read user information    account:read  Read account information    account:write  Modify your account    addresses:read  Read address information    addresses:write  Modify your addresses    authorization:oauth:clients:read  Read your oauth clients    authorization:oauth:clients:write  Modify your oauth clients    balance:read  Read balance information    contacts:write  Write contact information    devices:callerid:read  Read your device settings for callerId    devices:callerid:write  Modify your device settings for callerId    devices:localprefix:write  Modify your device settings for localprefix    devices:read  Read your devices    devices:sim:write  Modify your sim device settings    devices:sims:orders:write  Order new SIM cards    devices:singlerowdisplay:read  Read your device settings for single row display    devices:singlerowdisplay:write  Modify your device settings for single row display    devices:tariffannouncement:read  Read your device settings for tariff announcement    devices:write  Modify your devices    faxlines:numbers:read  Read your fax line numbers    faxlines:read  Read your fax line settings    faxlines:write  Modify your fax line settings    groups:devices:write  Modify your group devices    groups:faxlines:read  Read your group faxlines    groups:numbers:read  Read numbers routed to your groups    groups:read  Read your groups    groups:users:read  Read your group members    groups:voicemails:read  Read your group voicemails    history:read  Read your history    history:write  Modify your history    notifications:read  Read notifications    notifications:write  Modify notifications    numbers:read  Read your numbers    numbers:write  Route numbers to phone lines    openid  Identify you uniquely through your sipgate login    phonelines:busyonbusy:read  Read your busy on busy settings    phonelines:busyonbusy:write  Change your busy on busy settings    phonelines:devices:read  Read your phone line devices    phonelines:forwardings:write  Modify your phone line forwardings    phonelines:numbers:read  Read your phone line numbers    phonelines:parallelforwardings:read  Read your parallel forwardings    phonelines:parallelforwardings:write  Modify your parallel forwardings    phonelines:sipgateio:log:read  Read your phone line sipgate.io log    phonelines:voicemails:greetings:read  Read your phone line voicemail greetings    phonelines:voicemails:write  Modify your phone line voicemails    portings:write  Modify your portings    sessions:calls:write  Initiate phone calls    sessions:fax:write  Send Fax    sessions:write  Initiate sessions    settings:read  Read your settings    settings:sipgateio:read  Read your sipgate.io settings    settings:write  Modify your settings    sms:callerid:read  Read your short message services    sms:read  Read your short message services    users:defaultdevice:write  Modify your default device settings", 
            "title": "OAuth2 scopes"
        }, 
        {
            "location": "/REST-API/#real-time-call-manipulation", 
            "text": "", 
            "title": "Real Time Call Manipulation"
        }, 
        {
            "location": "/REST-API/#what-is-real-time-call-manipulation", 
            "text": "The Real Time Call Manipulation API enables you to modify currently running calls. Every call has a  callId  and you can use this ID to modify the state of that call.", 
            "title": "What is Real Time Call Manipulation?"
        }, 
        {
            "location": "/REST-API/#what-is-the-callid", 
            "text": "The  callId  will either be pushed to you by using a  Webhook   (see  callId ) or you can obtain it by initiating a call using the  /sessions/calls  endpoint (see  sessionId ).", 
            "title": "What is the callId?"
        }, 
        {
            "location": "/REST-API/#authentication_1", 
            "text": "You only have to add the  Authorization: Bearer  access_token  header to your requests.\nThere are currently two ways to obtain an  access_token :", 
            "title": "Authentication"
        }, 
        {
            "location": "/REST-API/#using-sipgate-authentication", 
            "text": "You can obtain an  access_token  by using curl:   curl \\\n--request POST \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--header 'Accept: application/json' \\\n--data-urlencode  client_id=sipgate-app-web  \\\n--data-urlencode  grant_type=password  \\\n--data-urlencode  username= your_sipgate_email  \\\n--data-urlencode  password= your_sipgate_username  \\\nhttps://api.sipgate.com/login/sipgate-apps/protocol/openid-connect/token  The response will contain a  token  which can be used as  access_token :  { token : eyJ0eXAiOiJKV1.... }", 
            "title": "Using sipgate authentication"
        }, 
        {
            "location": "/REST-API/#using-oauth-20-authentication", 
            "text": "Read the chapter on  OAuth 2.0 Authentication  to obtain an  access_token .", 
            "title": "Using OAuth 2.0 authentication"
        }, 
        {
            "location": "/REST-API/#how-to-get-all-running-calls", 
            "text": "You only need your  access_token  to call the  /calls  endpoint.\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request GET \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to put a call on hold\n====================  You can put all call participants on hold or retrieve them by using the  /calls/{callId}/hold  endpoint. All you need is the  callId  and your  access_token :\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Hold                                           \\ncurl \\\\n--verbose \\                                   \\n--request PUT \\ \\n--header \\\"Authorization: Bearer  \\\" \\       \\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /hold \\\\n--data '{ \\\"value\\\": true }'                                                                                                                                                                                                                                   \\n# Retrieve\\ncurl \\                                              \\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /hold \\\\n--data '{ \\\"value\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to mute/unmute a call\n=====================  You can use the  /calls/{callId}/muted  endpoint to mute or unmute your microphone. All you need is the  callId  and your  access_token :\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Mute\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /muted \\\\n--data '{ \\\"value\\\": true }'\\n\\n# Unmute\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /muted \\\\n--data '{ \\\"value\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to transfer a call\n=================  You can use the  /calls/{callId}/transfer  endpoint to transfer your call to another party. You can choose between attended transfer and blind transfer. All you need is the  callId  and your  access_token :\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Attended transfer\\ncurl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /transfer \\\\n--data '{ \\\"attended\\\": true, \\\"phoneNumber\\\": \\\"+4915799912345\\\" }'\\n\\n# Blind transfer\\ncurl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /transfer \\\\n--data '{ \\\"attended\\\": false, \\\"phoneNumber\\\": \\\"+4915799912345\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to record a call\n=================  Use the  /calls/{callId}/recording  endpoint to record a running call. \nPass  \"value\": true  to start the recording and  \"value\": false  to stop it.\nYou can enable/disable the recording announcement by passing the  announcement  flag.\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"# Start recording with announcement\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header 'Authorization: Bearer  ' \\\\n--header 'Content-Type: application/json' \\\\n--url https://api.sipgate.com/v2/calls/ /recording \\\\n--data '{ \\\"value\\\": true, \\\"announcement\\\": true }'\\n\\n# Stop recording without announcement\\ncurl \\\\n--verbose \\\\n--request PUT \\\\n--header 'Authorization: Bearer  ' \\\\n--header 'Content-Type: application/json' \\\\n--url https://api.sipgate.com/v2/calls/ /recording \\\\n--data '{ \\\"value\\\": false, \\\"announcement\\\": false }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nTo retrieve the recorded file you can use the  /v2/{userId}/history  endpoint (see  recordingUrl ). \n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/ /history?types=CALL\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to send DTMF (Dual-tone multi-frequency) sequences\n=================  Use the  /calls/{callId}/dtmf  endpoint to send a DTMF sequence to a running call:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /dtmf \\\\n--data '{ \\\"sequence\\\": \\\"*12345#\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to play an audio file\n===================  You can inject any WAV file into a running call by using the  /calls/{callId}/announcements  endpoint. All you need is the  callId , a WAV file and your  access_token :\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request POST \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ /announcements \\\\n--data '{ \\\"url\\\": \\\"https://static.sipgate.com/examples/wav/example.wav\\\" }'\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block] Please note:  Currently the sound file needs to be a mono 16bit PCM WAV file with a sampling rate of 8kHz. You can use conversion tools like the open source audio editor  Audacity  to convert any sound file to the correct format.  Alternatively you could convert the file using  mpg123  on the command line:\n[block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"mpg123 --rate 8000 --mono -w output.wav input.mp3\",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]\nHow to hang up a call\n=================  Use the  DELETE /calls/{callId}  endpoint to terminate a running call. All you need is the  callId  and your  access_token :  [block:code]\n{\n  \"codes\": [\n    {\n      \"code\": \"curl \\\\n--verbose \\\\n--request DELETE \\\\n--header \\\"Authorization: Bearer  \\\" \\\\n--header \\\"Content-Type: application/json\\\" \\\\n--url https://api.sipgate.com/v2/calls/ \",\n      \"language\": \"shell\"\n    }\n  ]\n}\n[/block]", 
            "title": "How to get all running calls"
        }
    ]
}